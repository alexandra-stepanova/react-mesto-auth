{"version":3,"sources":["utils/api.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","images/Union-negative.svg","images/Union-positive.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","index.js"],"names":["api","options","this","_url","url","_headers","headers","addLike","bind","deleteLike","res","ok","json","Promise","reject","status","fetch","method","then","_handleResponse","data","body","JSON","stringify","name","about","link","avatar","id","authorization","Header","email","onSignOut","loggedIn","useState","menuSandwich","setMenuSandwich","handleSignOut","className","path","to","onClick","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","likes","cardId","owner","onDeleteCard","onCardClick","onCardLike","currentUserId","useContext","_id","isOwn","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","type","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","isLoading","style","backgroundImage","map","Footer","ImagePopup","card","onClose","isOpen","PopupWithForm","props","title","noValidate","onSubmit","children","disabled","btn","EditProfilePopup","setName","setAbout","validationErrors","setValidationErrors","currentUser","useEffect","e","preventDefault","onUpdateUser","placeholder","required","value","onChange","target","errors","EditAvatarPopup","setLink","onUpdateAvatar","error","test","AddPlacePopup","namee","minLength","maxLength","DeleteCardPopup","onCardDelete","withRouter","setEmail","password","setPassword","handleChangeEmail","handleChangePassword","includes","OnRegistered","autoComplete","onFocus","onAuthorization","ProtectedRoute","Component","component","InfoTooltip","isRegistered","positive","negative","auth","token","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupImage","setIsDeletePopupImage","selectedCard","setSelectedCard","setIsLoading","setCurrentUser","setCards","removeCard","setRemoveCard","isInfoTooltip","setIsInfoTooltip","setIsRegistered","isAuthorized","setIsAuthorized","history","useHistory","all","getPersonalInformation","getInitialCards","userData","cardData","catch","console","log","finally","tockenCheck","useCallback","jwt","localStorage","getItem","checkToken","removeItem","closeAllPopups","handleEscClose","event","key","handleCloseByOverlay","evt","classList","contains","document","addEventListener","removeEventListener","Provider","push","registration","authorize","setItem","newCard","c","state","userInformation","editPersonalProfile","editAvatar","addNewCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a8a0e95a.chunk.js","sourcesContent":["class Api {\n    constructor(options) {\n        this._url = options.url;\n        this._headers = options.headers;\n        this.addLike = this.addLike.bind(this);\n        this.deleteLike = this.deleteLike.bind(this);\n    }\n\n    _handleResponse(res) {\n        if(res.ok) {\n            return res.json();\n        }\n        return Promise.reject('We have found an error.' `Error: ${res.status}`);\n    }\n\n    getPersonalInformation() { //запрашиваем информацию с сервера о user/users\n        return fetch(`${this._url}/users/me`, {\n            method: 'GET',\n            headers: this._headers\n        })\n        .then(this._handleResponse);\n    }\n\n    editPersonalProfile(data) { // запрагиваем  измение инфомуции о user и сохранении его на сервере\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n        .then(this._handleResponse);\n    }\n\n    editAvatar(link) { //запрашиваем изменить avatar оf user и сохраненить его на сервере\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: link\n            })\n        })\n        .then(this._handleResponse);\n    }\n\n    getInitialCards() { //запрашиваем все карточки с фотографиями из сервера \n        return fetch(`${this._url}/cards`, {\n            method: 'GET',\n            headers: this._headers\n        })\n        .then(this._handleResponse);\n    }\n\n    addNewCard(data) { // запрашиваем добавить новую карточку на сервер \n        return fetch (`${this._url}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n        .then(this._handleResponse);\n    }\n\n    addLike(id) { // запрашиваем постановить лайк\n        return fetch(`${this._url}/cards/likes/${id}`, {\n            method: 'PUT',\n            headers: this._headers\n        })\n        .then(this._handleResponse);\n    }\n\n    deleteLike(id) { // запрашиваем удалить лайка \n        return fetch(`${this._url}/cards/likes/${id}`, {\n           method: 'DELETE',\n           headers: this._headers\n        })\n        .then(this._handleResponse);\n    }\n\n    deleteCard(id) { // запрашиваем уделить карточку с сервера\n        return fetch(`${this._url}/cards/${id}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n        .then(this._handleResponse);\n    }\n}\n\nconst api = new Api ({\n    url: \"https://mesto.nomoreparties.co/v1/cohort-24\",\n    headers: {\n        authorization: \"7dfaf4c9-82d9-4096-b562-ec8631a23ab5\",\n        \"Content-Type\": \"application/json\",\n    },\n})\n\nexport default api;","export default __webpack_public_path__ + \"static/media/logo.c0218ee4.svg\";","import { useState } from 'react';\nimport { Link, Switch, Route, Redirect } from 'react-router-dom';\nimport headerLogo from './../images/logo.svg';\n\nconst Header = ({ email, onSignOut, loggedIn }) => {\n    const [menuSandwich, setMenuSandwich] = useState(false);\n\n    function onOpenMenu() {\n        setMenuSandwich(true);\n    }\n\n    function onCloseMenu() {\n        setMenuSandwich(false);\n    }\n\n    function handleSignOut() {\n        onSignOut();\n        setMenuSandwich(false);\n    }\n\n    return(\n        <header className=\"header\">\n            <Switch>\n                <Route path=\"/main\">\n                    <div className={`header__container-hidden ${menuSandwich ? 'header__menu_opened' : ''}`}>\n                        <h2 className=\"header__email\">{email}</h2>\n                        <Link to=\"/sign-in\" className=\"header__link\" onClick={handleSignOut}>Выйти</Link>\n                    </div>\n                    <div className=\"header__container\">\n                        <img src={headerLogo} alt=\"логотип MESTO\" className=\"header__logo\" /> \n                        <div className=\"header__container-visible\">\n                            <h2 className=\"header__email-hidden\">{email}</h2>\n                            <Link to=\"/sign-in\" className=\"header__link-hidden\" onClick={handleSignOut}>Выйти</Link>\n                            <button className={`header__hamburger-btn ${menuSandwich ? 'header__cross-btn' : ''}`} onClick={menuSandwich ? onCloseMenu : onOpenMenu}></button>\n                        </div>\n                    </div>\n                </Route>\n                <Route path=\"/sign-in\">\n                    <div className=\"header__container\">\n                        <img src={headerLogo} alt=\"логотип MESTO\" className=\"header__logo\" /> \n                        <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\n                    </div>\n                </Route>\n                <Route path=\"/sign-up\">\n                    <div className=\"header__container\">\n                        <img src={headerLogo} alt=\"логотип MESTO\" className=\"header__logo\" /> \n                        <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\n                    </div>    \n                </Route>\n                <Route path=\"/\">\n                    {loggedIn ? (\n                       <Redirect to=\"/main\" />\n                    ) : (\n                       <Redirect to=\"/sign-in\" />\n                    )}\n                </Route>\n            </Switch>\n        </header>\n    )         \n} \n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nconst Card = ({\n    likes,\n    cardId,\n    name,\n    link,\n    owner,\n    onDeleteCard,\n    onCardClick,\n    onCardLike,\n}) => {\n    const currentUserId = useContext(CurrentUserContext)._id; //подписываемся на CurrentUserContext\n    const isOwn = owner._id === currentUserId; // Определяем, являемся ли мы владельцем текущей карточки\n\n    const cardDeleteButtonClassName = // Создаём переменную, которую после зададим в `className` для кнопки удаления\n    `element__trash ${isOwn ? \"element__trash_visible\" : \"\"}`;\n    \n    const handleRemoveCard = () => {//обработчик передающий информауию от card в Main для открытия popup delete card, а также передает всю нужную информацию в App для удаления карточки\n        onDeleteCard({\n            likes,\n            cardId,\n            name,\n            link,\n            owner,\n        });\n    }\n\n    const isLiked = likes.some((i) => i._id === currentUserId); // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n    const cardLikeButtonClassName = `element__button-like ${// Создаём переменную, которую после зададим в `className` для кнопки лайка\n        isLiked ? \"element__button-like_active\" : \"\"\n    }`;\n\n    const handleCardClick = () => {//обработчик передающий информауию от card в Main для открытия полноразмерной картинки\n        onCardClick({ name, link });\n    };\n\n    const hadleLikeClick = () => {//обработчик передающий информауию от card в Main для постановки лайк\n        onCardLike(likes, cardId, currentUserId);\n    };\n\n    return (\n        <li className=\"element template__card\">\n            <button  \n            onClick={handleRemoveCard}\n            className={cardDeleteButtonClassName}\n            type=\"button\"\n            ></button>\n            <img\n            className=\"element__image\"\n            onClick={handleCardClick}\n            src={link}\n            alt={name}\n            />\n            <div className=\"element__block\">\n                <h2 className=\"element__quote\">{name}</h2>\n                <div className=\"element__like-container\">\n                    <button\n                    className={cardLikeButtonClassName}\n                    onClick={hadleLikeClick}\n                    type=\"button\"\n                    ></button>\n                   <p className=\"element__counter-likes\">{likes.length}</p>\n                </div>\n            </div>\n        </li>\n    );\n};\n\nexport default Card;\n\n\n","import { useContext } from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nconst Main = ({\n  cards,\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onDeleteCard,\n  onCardClick,\n  onCardLike,\n  isLoading,\n}) => {\n  const { avatar, name, about } = useContext(CurrentUserContext); //сюда будет записываться имя пользователя\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile main__profile\">\n        <div\n          className=\"profile__avatar-container profile__avatar\"\n          style={{ backgroundImage: `url(${avatar})` }}\n        >\n          <button\n            onClick={onEditAvatar}\n            className=\"profile__avatar-button\"\n            type=\"button\"\n          ></button>\n        </div>\n        <div className=\"profile__conteiner\">\n          <h1 className=\"profile__name\">{name}</h1>\n          <button\n            onClick={onEditProfile}\n            className=\"profile__open-button\"\n            type=\"button\"\n          ></button>\n          <p className=\"profile__job\">{about}</p>\n        </div>\n        <button\n          id=\"popup-image__open-button\"\n          onClick={onAddPlace}\n          className=\"profile__add-button\"\n          type=\"button\"\n        ></button>\n      </section>\n      <section id=\"elements\" className=\"elements\">\n        <ul id=\"template__container\" className=\"elements__container\">\n          {isLoading && (<p>Is Loading ...</p>)}\n          {cards.map(({ likes, _id, name, link, owner }) => {\n            return (\n              <Card\n                likes={likes}\n                cardId={_id}\n                name={name}\n                link={link}\n                owner={owner}\n                key={_id}\n                onDeleteCard={onDeleteCard}\n                onCardClick={onCardClick}\n                onCardLike={onCardLike}\n              />\n            )\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n};\n\nexport default Main;\n\n\n","import React from 'react';\n\nconst Footer = () => {\n    return(\n        <footer className=\"footer\">\n            <p className=\"footer__name\">&#169;2021 Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer;","import React from 'react';\n\nconst ImagePopup = ({card, onClose}) => {\n    return (\n        <div  \n         className={`popup popup-opacity ${card.isOpen && card.link !== '' ? \"popup_is-opened\" : null}`}>\n        <div className=\"popup__image-container\">\n            <button className=\"popup__close-button\" onClick={onClose} type=\"button\"></button>\n            <img className=\"image\" src={card.link} alt={card.name} />\n            <h2 className=\"image-tittle\">{card.name}</h2>  \n        </div>\n    </div>\n    )\n}\n\nexport default ImagePopup;","import React from \"react\";\n\nconst PopupWithForm = (props) => {\n  return (\n    <div\n      id={`popup-${props.name}`}\n      className={`popup ${props.isOpen ? \"popup_is-opened\" : null}`}\n    >\n      <div className=\"popup__content\">\n        <button\n          className=\"popup__close-button\"\n          type=\"button\"\n          onClick={props.onClose}\n        ></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form\n          className=\"popup__form-container\"\n          noValidate\n          onSubmit={props.onSubmit}\n        >\n          {props.children}\n          <button type=\"submit\" \n            className={`popup__save-button ${props.disabled ? \"popup__button_disabled\" : null}`} \n            disabled={props.disabled}\n           >\n            {props.btn}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default PopupWithForm;","import { useState, useContext, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst EditProfilePopup = (props) => {\n  const [name, setName] = useState(\"\"); // Стейт, в котором содержится значение инпута name\n  const [about, setAbout] = useState(\"\"); // Стейт, в котором содержится значение инпута about\n  const [validationErrors, setValidationErrors] = useState({name: '', about: ''})//стейт валидации инпутов\n  const currentUser = useContext(CurrentUserContext); // Подписка на контекст\n  \n\n  function handleChangeTitle(e) {//Обработчик изменения инпута name обновляет стейт\n    const { value } = e.target;\n    let errors = validationErrors;\n    setName(value);\n\n    value.length < 2 ? errors.name = 'Минимальное колличество символоа - 2': errors.name = '' && setValidationErrors(errors);// проверяем на минимальное колличество символов\n  }\n\n  function handleChangeabout(e) {//Обработчик изменения инпута about обновляет стейт\n    const { value } = e.target;\n    let errors = validationErrors;\n    setAbout(value);\n\n    value.length < 2 ? errors.about = 'Минимальное колличество символоа - 2': errors.about = '' && setValidationErrors(errors);// проверяем на минимальное колличество символов\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();//Запрещаем браузеру переходить по адресу формы\n\n    props.onUpdateUser({//Передаём значения управляемых компонентов во внешний обработчик\n      name: name,\n      about: about,\n    });\n  }\n\n  useEffect(() => {// После загрузки текущего пользователя из API его данные будут использованы в управляемых компонентах.\n    if(props.isOpen) {\n      setName(currentUser.name);\n      setAbout(currentUser.about); \n      setValidationErrors({name: '', about: ''});//и проверяться на валидность\n    }\n  }, [currentUser, props.isOpen]);\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      disabled={(validationErrors.name || validationErrors.about) || (name === currentUser.name && about === currentUser.about)}\n      btn={props.isLoading ? 'Сохранение...' : 'Сохранить'}\n    >\n      <label className=\"popup__label\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          className=\"popup__input\"\n          placeholder=\"Жак-Ив Кусто\"\n          required\n          value={name || \"\"}\n          onChange={handleChangeTitle}\n        />\n        <span className={`${validationErrors.name ? \"popup__input-error\" : null}`}>{validationErrors.name}</span>\n      </label>\n      <label className=\"popup__label\">\n        <input\n          type=\"text\"\n          name=\"about\"\n          className=\"popup__input\"\n          placeholder=\"Исследователь океана\"\n          required\n          value={about || \"\"}\n          onChange={handleChangeabout}\n        />\n        <span className={`${validationErrors.about ? \"popup__input-error\" : null}`}>{validationErrors.about}</span>\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;","import { useState, useEffect, useContext } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst EditAvatarPopup = (props) => {\n  const [link, setLink] = useState(\"\"); // записываем объект, возвращаемый хуком, в переменную\n  const [validationErrors, setValidationErrors] = useState({ link: \"\" }); //стейт валидации инпутов\n  const currentUser = useContext(CurrentUserContext); // Подписка на контекст\n\n  function handleChangeLink(e) {\n    const { value } = e.target;\n    let error = validationErrors;\n    setLink(value);\n    const regex = /^(https?|chrome):\\/\\/[^\\s$.?#].[^\\s]*$/gm;\n\n    !regex.test(value)\n      ? (error.link = \"Введите URL.\")\n      : (error.link = \"\" && setValidationErrors(error));\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar(\n      //Передаём значения во внешний обработчик для измения аватара\n      link\n    );\n  }\n\n  useEffect(() => {\n    if (props.isOpen) {\n      setLink(currentUser.link);\n      setValidationErrors({ link: \"\" });\n    }\n  }, [currentUser, props.isOpen]);\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      disabled={validationErrors.link || link === currentUser.link}\n      btn={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\n    >\n      <label className=\"popup__label\">\n        <input\n          value={link || \"\"}\n          type=\"url\"\n          name=\"avatar\"\n          className=\"popup__input\"\n          placeholder=\"Ссылка на фотографию\"\n          required\n          onChange={handleChangeLink}\n        />\n        <span\n          className={`${validationErrors.link ? \"popup__input-error\" : null}`}\n        >\n          {validationErrors.link}\n        </span>\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import { useState, useEffect, useContext } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst AddPlacePopup = (props) => {\n  const [namee, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n  const [validationErrors, setValidationErrors] = useState({\n    namee: \"\",\n    link: \"\",\n  }); //стейт валидации инпутов\n  const currentUser = useContext(CurrentUserContext); // Подписка на контекст\n\n  function handleChangename(e) {\n    //Обработчик изменения инпута name обновляет стейт\n    const { value } = e.target;\n    let errors = validationErrors;\n    setName(value);\n\n    value.length < 2\n      ? (errors.namee = \"Минимальное колличество символоа - 2\")\n      : (errors.namee = \"\" && setValidationErrors(errors)); // проверяем на минимальное колличество символов\n  }\n\n  function handleChangeLink(e) {\n    //Обработчик изменения инпута name обновляет стейт\n    const { value } = e.target;\n    let errors = validationErrors;\n    setLink(value);\n    const regex = /^(https?|chrome):\\/\\/[^\\s$.?#].[^\\s]*$/gm;\n\n    !regex.test(value)\n      ? (errors.link = \"Введите URL.\")\n      : (errors.link = \"\" && setValidationErrors(errors));\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault(); //Запрещаем браузеру переходить по адресу формы\n    props.onAddPlace({\n      //Передаём значения управляемых компонентов во внешний обработчик\n      name: namee,\n      link,\n    });\n  }\n\n  useEffect(() => {\n    // После загрузки текущего пользователя из API его данные будут использованы в управляемых компонентах.\n    if (props.isOpen) {\n      setName(currentUser.namee);\n      setLink(currentUser.link);\n      setValidationErrors({ name: \"\", link: \"\" }); //и проверяться на валидность\n    }\n  }, [currentUser, props.isOpen]);\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"image\"\n      title=\"Новое место\"\n      disabled={\n        validationErrors.namee ||\n        validationErrors.link ||\n        namee === currentUser.namee ||\n        link === currentUser.link\n      }\n      btn={props.isLoading ? \"Сохранение...\" : \"Создать\"}\n    >\n      <label className=\"popup__label\">\n        <input\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          name=\"name\"\n          className=\"popup__input\"\n          placeholder=\"Название\"\n          required\n          value={namee || \"\"}\n          onChange={handleChangename}\n        />\n        <span\n          className={`${validationErrors.namee ? \"popup__input-error\" : null}`}\n        >\n          {validationErrors.namee}\n        </span>\n      </label>\n      <label className=\"popup__label\">\n        <input\n          type=\"url\"\n          name=\"link\"\n          className=\"popup__input\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          value={link || \"\"}\n          onChange={handleChangeLink}\n        />\n        <span\n          className={`${validationErrors.link ? \"popup__input-error\" : null}`}\n        >\n          {validationErrors.link}\n        </span>\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nconst DeleteCardPopup = (props) => {\n    function handleDelete(e) {\n        e.preventDefault();//Запрещаем браузеру переходить по адресу формы\n        props.onCardDelete();//Передаём значения управляемых компонентов во внешний обработчик);\n    } \n\n    return (\n        <PopupWithForm\n        isOpen={props.isOpen}\n        onSubmit={handleDelete}\n        onClose={props.onClose}\n        name=\"card-delete\"\n        title=\"Вы уверены?\"\n        btn={props.isLoading ? 'Удаляем...' : 'Да'}\n        >\n        </PopupWithForm>\n    )\n}\n\nexport default DeleteCardPopup;\n","import { useState } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nconst Register = (props) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [validationErrors, setValidationErrors] = useState({\n    email: \"\",\n    password: \"\",\n  }); //стейт валидации инпутов\n\n  function handleChangeEmail(e) {\n    //Обработчик изменения инпута name обновляет стейт\n    const { value } = e.target;\n    let errors = validationErrors;\n    setEmail(value);\n    const regEx = /.+@.+\\..+/;\n\n    !regEx.test(value)\n      ? (errors.email = \"Введите корректный email адрес\")\n      : (errors.email = \"\" && setValidationErrors(errors)); // проверяем на минимальное колличество символов\n  }\n\n  function handleChangePassword(e) {\n    //Обработчик изменения инпута about обновляет стейт\n    const { value } = e.target;\n    let errors = validationErrors;\n    setPassword(value);\n\n    value.length < 6 || value.includes(\" \")\n      ? (errors.password =\n          \"Введите корректный пароль без пробелов и больше 6 значений\")\n      : (errors.password = \"\" && setValidationErrors(errors)); // проверяем на минимальное колличество символов\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault(); //Запрещаем браузеру переходить по адресу формы\n\n    props.OnRegistered({\n      //Передаём значения управляемых компонентов во внешний обработчик\n      email: email,\n      password: password,\n    });\n  }\n\n  return (\n    <main className=\"sign\">\n      <h1 className=\"sign__title\">Регистрация</h1>\n      <div className=\"sign__container\">\n        <form onSubmit={handleSubmit} className=\"sign__form\">\n          <label className=\"sign__label\">\n            <input\n              required\n              value={email}\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              autoComplete=\"on\"\n              placeholder=\"Email\"\n              className=\"sign__email sign__input\"\n              onChange={handleChangeEmail}\n              onFocus={handleChangeEmail}\n            />\n            <span\n              className={`${\n                validationErrors.email ? \"popup__input-error\" : null\n              }`}\n            >\n              {validationErrors.email}\n            </span>\n          </label>\n          <label className=\"sign__label\">\n            <input\n              required\n              value={password}\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              minLength=\"6\"\n              autoComplete=\"on\"\n              placeholder=\"Пароль\"\n              className=\"sign__password sign__input\"\n              onChange={handleChangePassword}\n              onFocus={handleChangePassword}\n            />\n            <span\n              className={`${\n                validationErrors.password ? \"popup__input-error\" : null\n              }`}\n            >\n              {validationErrors.password}\n            </span>\n          </label>\n          <button\n            type=\"submit\"\n            className={`sign__button sign__button-text ${\n              validationErrors.email || validationErrors.password\n                ? \"popup__button_disabled\"\n                : null\n            }`}\n            disabled={validationErrors.email || validationErrors.password}\n          >\n            {props.isLoading ? \"Регистрация...\" : \"Зарегистрироваться\"}\n          </button>\n        </form>\n      </div>\n\n      <div className=\"sign-in\">\n        <h2 className=\"sign-in__title\">\n          Уже зарегистрированы?&nbsp;\n          <Link to=\"/sign-in\" className=\"sign-in__link\">\n            Войти\n          </Link>\n        </h2>\n      </div>\n    </main>\n  );\n};\n\nexport default withRouter(Register);\n\n","import { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nconst Login = (props) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [validationErrors, setValidationErrors] = useState({\n    email: \"\",\n    password: \"\",\n  }); //стейт валидации инпутов\n\n  function handleChangeEmail(e) {\n    //Обработчик изменения инпута name обновляет стейт\n    const { value } = e.target;\n    let errors = validationErrors;\n    setEmail(value);\n    const regEx = /.+@.+\\..+/;\n\n    !regEx.test(value)\n      ? (errors.email = \"Введите корректный email адрес\")\n      : (errors.email = \"\" && setValidationErrors(errors)); // проверяем на минимальное колличество символов\n  }\n\n  function handleChangePassword(e) {\n    //Обработчик изменения инпута about обновляет стейт\n    const { value } = e.target;\n    let errors = validationErrors;\n    setPassword(value);\n\n    value.length < 6 || value.includes(\" \")\n      ? (errors.password =\n          \"Введите корректный пароль без пробелов и больше 6 значений\")\n      : (errors.password = \"\" && setValidationErrors(errors)); // проверяем на минимальное колличество символов\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault(); //Запрещаем браузеру переходить по адресу формы\n\n    props.onAuthorization({\n      //Передаём значения управляемых компонентов во внешний обработчик\n      email: email,\n      password: password,\n    });\n  }\n  return (\n    <main className=\"sign\">\n      <h1 className=\"sign__title\">Вход</h1>\n      <div className=\"sign__container\">\n        <form onSubmit={handleSubmit} className=\"sign__form\">\n          <label className=\"sign__label\">\n            <input\n              required\n              id=\"email\"\n              value={email}\n              name=\"email\"\n              type=\"email\"\n              autoComplete=\"on\"\n              placeholder=\"Email\"\n              className=\"sign__email sign__input\"\n              onChange={handleChangeEmail}\n            />\n            <span\n              className={`${\n                validationErrors.email ? \"popup__input-error\" : null\n              }`}\n            >\n              {validationErrors.email}\n            </span>\n          </label>\n          <label className=\"sign__label\">\n            <input\n              required\n              value={password}\n              name=\"password\"\n              type=\"password\"\n              autoComplete=\"on\"\n              placeholder=\"Пароль\"\n              className=\"sign__password sign__input\"\n              onChange={handleChangePassword}\n            />\n            <span\n              className={`${\n                validationErrors.password ? \"popup__input-error\" : null\n              }`}\n            >\n              {validationErrors.password}\n            </span>\n          </label>\n          <button\n            type=\"submit\"\n            className={`sign__button sign__button-signin sign__button-text ${\n              validationErrors.email || validationErrors.password\n                ? \"popup__button_disabled\"\n                : null\n            }`}\n            disabled={validationErrors.email || validationErrors.password}\n          >\n            {props.isLoading ? \"Входим...\" : \"Войти\"}\n          </button>\n        </form>\n      </div>\n    </main>\n  );\n};\n\nexport default withRouter(Login);\n\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({component: Component, ...props}) => {\n  return (\n    <Route>\n      {() => \n        props.loggedIn ? <Component{...props} /> : <Redirect to=\"/main\" />\n      }\n    </Route>\n    \n)};\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/Union-negative.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/Union-positive.1b6082f8.svg\";","import React from \"react\";\nimport negative from \"./../images/Union-negative.svg\"\nimport positive from \"./../images/Union-positive.svg\"\n\n\nconst InfoTooltip = (props) => {\n    return (\n        <div\n          id={`popup-InfoTooltip`}\n          className={`popup popup-InfoTooltip ${props.isOpen ? \"popup_is-opened\" : null}`}\n        >\n            <div className=\"popup__content\">\n                <button\n                  className=\"popup__close-button\"\n                  type=\"button\"\n                  onClick={props.onClose}\n                ></button>\n                <img className=\"popup-InfoTooltip__image\" src={props.isRegistered ? positive : negative} alt=\"icon\"/>\n                <h2 className=\"popup__title\">{props.isRegistered ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</h2>\n            </div>\n        </div>\n    )\n}\n\nexport default InfoTooltip;","class Auth {\n    constructor(options) {\n        this._url = options.url;\n        this._headers = options.headers;\n    }\n\n    _handleResponse(res) {\n        if(res.ok) {\n            return res.json();\n        }\n        return Promise.reject('We have found an error.' `Error: ${res.status}`);\n    }\n\n    registration(data) {\n        return fetch(`${this._url}/signup`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify(data)\n        })\n        .then(this._handleResponse);\n    }\n\n    authorize(data) {\n        return fetch(`${this._url}/signin`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify(data)\n        })\n        .then(this._handleResponse);\n    }\n\n    checkToken(token) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'GET',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`\n            }\n        })\n        .then(this._handleResponse);\n    }\n}\n\nconst auth = new Auth({\n    url: \"https://auth.nomoreparties.co\",\n    headers: {\n        \"Content-Type\": \"application/json\"\n    }\n})\n\nexport default auth;","import \"../index.css\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport api from \"../utils/api.js\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeleteCardPopup from \"./DeleteCardPopup\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport auth from \"../utils/auth\";\n\nconst App = () => {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false); //popup Profile\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false); //popup AddCards\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false); // popup Edit Avatar\n  const [isDeletePopupImage, setIsDeletePopupImage] = useState(false); // popup Delete Card\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" }); // получаем полноразмерную картинку с подписью\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]); //подписываемся на CurrentUserContext, чтобы получить нужное значания контекста\n  const [removeCard, setRemoveCard] = useState({});\n\n  const [isInfoTooltip, setIsInfoTooltip] = useState(false);\n  const [isRegistered, setIsRegistered] = useState(false);\n  const [isAuthorized, setIsAuthorized] = useState(false);\n  const [email, setEmail] = useState({ email: \"\" });\n\n  let history = useHistory();\n\n  useEffect(() => {\n    //вытаскиваем информацию о пользователе\n    if (isAuthorized) {\n      setIsLoading(true);\n      Promise.all([api.getPersonalInformation(), api.getInitialCards()])\n        .then(([userData, cardData]) => {\n          setCurrentUser(userData);\n          setCards(cardData);\n        })\n        .catch((error) => console.log(error))\n        .finally(() => setIsLoading(false));\n    }\n  }, [isAuthorized]);\n\n  const tockenCheck = useCallback(() => {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth\n        .checkToken(jwt)\n        .then((res) => {\n          if(res) {\n            setEmail({ email: res.data.email });\n            setIsAuthorized(true);\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          localStorage.removeItem(\"jwt\");\n        });\n    }\n  }, []);\n\n  useEffect(() => {\n    tockenCheck();\n  }, [tockenCheck]);\n\n  const handleUpdateUser = (userInformation) => {\n    // внешний обработчик отвечающий за сохранение введенной информации о пользователе на сервер\n    setIsLoading(true);\n    api\n      .editPersonalProfile(userInformation)\n      .then((userData) => {\n        setCurrentUser(userData);\n      })\n      .then(() => closeAllPopups())\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  };\n\n  const handleUpdateAvatar = (link) => {\n    // внешний обработчик отвечающий за сохранение аватара пользователя на сервер\n    setIsLoading(true);\n    api\n      .editAvatar(link)\n      .then((userData) => {\n        setCurrentUser(userData);\n      })\n      .then(() => closeAllPopups())\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  };\n\n  const handleAddPlaceSubmit = (card) => {\n    // внешний обработчик отвечающий за добавление новой карточки на сервер\n    setIsLoading(true);\n    api\n      .addNewCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .then(() => closeAllPopups())\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  };\n\n  const handleCardLike = (likes, cardId, currentUserId) => {\n    // внешний обработчик отвечающий за постановку/удаление лайка на/с сервер/а\n    const isLiked = likes.some((card) => card._id === currentUserId); // Снова проверяем, есть ли уже лайк на этой карточке\n\n    if (isLiked) {\n      //удаляем Лайк\n      api\n        .deleteLike(cardId)\n        .then((newCard) => {\n          setCards((cards) =>\n            cards.map((c) => (c._id === cardId ? newCard : c))\n          );\n        })\n        .catch((error) => console.log(error));\n    } else {\n      //добавляем лайк\n      api\n        .addLike(cardId)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === cardId ? newCard : c))\n          );\n        })\n        .catch((error) => console.log(error));\n    }\n  };\n\n  //обработчики открытий попааов\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleCardClick = ({ link, name }) => {\n    setSelectedCard({\n      isOpen: true,\n      link,\n      name,\n    });\n  };\n\n  //обработчики закрытия попапов\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeletePopupImage(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n    setIsInfoTooltip(false);\n  };\n\n  useEffect(() => {\n    //обработчик закрытия попапов по нажатия на ESC и overlay\n    const handleEscClose = (event) => {\n      if (event.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n\n    const handleCloseByOverlay = (evt) => {\n      //обработчик для закртия popup по кнопке и overlay\n      if (\n        evt.target.classList.contains(\"popup_is-opened\") ||\n        evt.target.classList.contains(\"popup__close-button\")\n      ) {\n        closeAllPopups();\n      }\n    };\n\n    document.addEventListener(\"click\", handleCloseByOverlay);\n    document.addEventListener(\"keydown\", handleEscClose);\n\n    return () => {\n      document.removeEventListener(\"click\", handleCloseByOverlay);\n      document.removeEventListener(\"keydown\", handleEscClose);\n    };\n  }, []);\n\n  const handleDeleteCard = (card) => {\n    setRemoveCard(card);\n    setIsDeletePopupImage(true);\n  };\n\n  const handleCardDelete = () => {\n    // внешний обработчик отвечающий за удаление карточки с сервера\n    setIsLoading(true);\n    api\n      .deleteCard(removeCard.cardId)\n      .then(() => {\n        setCards((cards) => cards.filter((c) => c._id !== removeCard.cardId));\n      })\n      .then(() => closeAllPopups())\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  };\n\n  const handleRegistration = (data) => {\n    setIsLoading(true);\n    auth\n      .registration(data)\n      .then(() => {\n        setIsRegistered(true);\n        setIsInfoTooltip(true);\n        history.push('/sign-in');\n      })\n      .catch((error) => {\n        setIsRegistered(false);\n        setIsInfoTooltip(true);\n        console.log(error);\n      })\n      .finally(() => setIsLoading(false));\n  };\n\n  const handleAuthorization = (data) => {\n    setIsLoading(true);\n    auth\n      .authorize(data)\n      .then((res) => {\n        setEmail({ email: data.email });\n        setIsAuthorized(true);\n        localStorage.setItem(\"jwt\", res.token);\n        history.push(\"/main\");\n      })\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  };\n\n  const signOut = () => {\n    localStorage.removeItem(\"jwt\");\n    history.push(\"/sign-in\");\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"main\">\n          <Header email={email.email} onSignOut={signOut} loggedIn={isAuthorized}/>\n          <Switch>\n            <Route path=\"/sign-up\">\n              <Register\n                OnRegistered={handleRegistration}\n                isLoading={isLoading}\n              />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login onAuthorization={handleAuthorization} isLoading={isLoading} />\n            </Route>\n            <ProtectedRoute\n              path=\"/main\"\n              component={Main}\n              cards={cards}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onDeleteCard={handleDeleteCard}\n              onCardLike={handleCardLike}\n              isLoading={isLoading}\n              loggedIn={isAuthorized}\n            />\n            <Route path=\"/\">\n              {isAuthorized ? (\n                <Redirect to=\"/main\" />\n              ) : (\n                <Redirect to=\"/sign-in\" />\n              )}\n            </Route>\n          </Switch>\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onUpdateUser={handleUpdateUser}\n            onClose={closeAllPopups}\n            isLoading={isLoading}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onUpdateAvatar={handleUpdateAvatar}\n            onClose={closeAllPopups}\n            isLoading={isLoading}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onAddPlace={handleAddPlaceSubmit}\n            onClose={closeAllPopups}\n            isLoading={isLoading}\n          />\n          <DeleteCardPopup\n            isOpen={isDeletePopupImage}\n            onCardDelete={handleCardDelete}\n            onClose={closeAllPopups}\n            isLoading={isLoading}\n          />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          <InfoTooltip\n            isRegistered={isRegistered}\n            isOpen={isInfoTooltip}\n            onClose={closeAllPopups}\n          />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter >\n      <App />      \n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('page')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}